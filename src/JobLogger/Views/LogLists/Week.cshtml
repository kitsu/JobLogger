@model IEnumerable<BaseLog>

<br />
@if (Model.Count() <= 0)
{
    <div class="row">
    <div class="panel panel-default col-md-6 col-md-offset-3">
        <div class="panel-heading">
            <h3 class="panel-title">No Logs Found!</h3>
        </div>
        <div class="panel-body">
            <a class="btn btn-default btn-block"
               asp-controller="LogLists"
               asp-action="Add">
                Add Log
            </a>
        </div>
    </div>
        </div>
}
else
{
    @foreach (BaseLog log in Model)
    {
        @Html.Partial("_LogPartial", log)
    }
}

@section scripts
{
    <script type="text/javascript">
        $(function () {
            // Wire up delete buttons
            $('button[data-trigger="deleteLog"]').each(function () {
                var $elem = $(this);
                var target = $elem.data("target");
                $elem.click(function (e) {
                    e.preventDefault();
                    $.ajax({
                        url: "/LogLists/delete/",
                        type: "DELETE",
                        data: {"target": target}
                    }).done(function (result) {
                        if (result.success) {
                            $("#log-" + target).remove();
                        }
                    });
                });
            });
        });
    </script>
}
